(function(q){var t=window.AmazonUIPageJS||window.P,w=t._namespace||t.attributeErrors,a=w?w("AutomotiveDataPlatformSearchDesktopAssets",""):t;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,t,w){q.when("A","automotive-data-platform-desktop-pf-constants","ready").register("automotive-data-platform-desktop-pf-page-state-interactions",function(a,e){function f(){var a=p.state("automotive-data-platform-desktop-pf-page-state");return JSON.parse(a.adpVehicleConfig).mandatoryAttrDisplayOrder}
var p=a;return{getAllVehicleAttrInDisplayOrder:function(){var a=p.state("automotive-data-platform-desktop-pf-page-state"),a=JSON.parse(a.adpVehicleConfig);return a.mandatoryAttrDisplayOrder.concat(a.optionalAttrDisplayOrder)},getA9VehicleAttrOrder:function(){for(var a=p.state("automotive-data-platform-desktop-pf-page-state"),b=JSON.parse(a.adpVehicleConfig).vehicleConfiguration.a9LookupKey,a=JSON.parse(a.allVehicleAttrJson),e=[],l=0;l<b.length;l++)e.push(a[b[l]].name);return e},getSelectedMandatoryAttrs:function(){var a=
p.state("automotive-data-platform-desktop-pf-page-state"),b={};if(a.hasOwnProperty("selectedMandatoryVehicleAttrs"))for(var n in a.selectedMandatoryVehicleAttrs)b[n]="string"===typeof a.selectedMandatoryVehicleAttrs[n]||a.selectedMandatoryVehicleAttrs[n]instanceof String?JSON.parse(a.selectedMandatoryVehicleAttrs[n]).adpVehicleAttributeValue:a.selectedMandatoryVehicleAttrs[n];a=f();n=p.$(e.HASH_SIGN+e.PRE_SELECTED_MAND_ATTR);for(var l=0;l<a.length;++l)if(!(a[l].name in b)){var d=n.data(a[l].name);
d&&(b[a[l].name]=d.adpVehicleAttributeValue)}return b},getSelectedOptionalAttrs:function(){var a=p.state("automotive-data-platform-desktop-pf-page-state"),b;a.hasOwnProperty("selectedOptionalVehicleAttrs")&&(b=a.selectedOptionalVehicleAttrs);return b},getMandatoryAttrInDisplayOrder:f,getOptionalAttrInDisplayOrder:function(){var a=p.state("automotive-data-platform-desktop-pf-page-state");return JSON.parse(a.adpVehicleConfig).optionalAttrDisplayOrder},getErrorMsg:function(){return p.state("automotive-data-platform-desktop-pf-page-state").errorMsg}}});
"use strict";q.when("A","a-modal","automotive-data-platform-desktop-pf-constants","ready").register("automotive-data-platform-desktop-pf-help-image-interactions",function(a,e,f){a.declarative("automotive-data-platform-desktop-pf-help-image-trigger-action","click",function(p){var m=p.$target.closest(".a-link-normal").data(f.CURRENT_ATTRIBUTE_NAME);p=a.$("#"+f.HELP_IMAGE_TRIGGER_CONTENT_PREFIX+m).html();m=a.$("#"+f.HELP_IMAGE_TRIGGER_HEADER_PREFIX+m).html();p={inlineContent:p,header:m};var m=a.$(f.HASH_SIGN+
f.HELP_IMAGE_TRIGGER),b=e.get(m);b&&e.remove(m);b=e.create(m,p);b.show()});return{loadImageURLInPopover:function(e){var m=a.$(f.HASH_SIGN+f.MODAL_CONTENT_IMAGE_SECTION_PREFIX+e),b=a.$(f.HASH_SIGN+f.MODAL_HELP_IMAGE_URL_CONTENT_SECTION_PREFIX+e);b.length&&(m.html(b.html()),e=a.$(f.HASH_SIGN+f.HELP_IMAGE_ID_PREFIX+e),e.length&&a.loadImageManually(e))}}});"use strict";q.declare("automotive-data-platform-desktop-pf-constants",{HASH_SIGN:"#",UNDERSCORE_SIGN:"_",CSRF_TOKEN:"automotive-data-platform-csrf-token",
MODAL_HELP_IMAGE_URL_CONTENT_SECTION_PREFIX:"automotive-data-platform-desktop-pf-image-modal-url-content-section-",ERROR_MSG_SECTION:"automotive-data-platform-desktop-pf-layout-error-msg-section",PAGE_STATE:"automotive-data-platform-desktop-pf-page-state",CURRENT_VEHICLE_ATTRIBUTE:"current-vehicle-attribute",CURRENT_ATTRIBUTE_NAME:"current-attribute-name",NEXT_VEHICLE_ATTRIBUTE:"next-vehicle-attribute",PRE_ENCODED_ID:"pre-vehicle-attributes-encoded-ids",VEHICLE_DATA:"vehicle-data",UI_NAME:"ui-name",
VSP_MANDATORY_DATA:"vsp-mandatory-data",VSP_OPTIONAL_DATA:"vsp-optional-data",ADD_GARAGE_VEHICLE:"add-garage-vehicle",UPDATE_GARAGE_VEHICLE:"update-garage-vehicle",DISPLAY_NONE_CSS:"automotive-data-platform-as-display-none",DOES_NOT_FIT_CSS:"automotive-data-platform-as-section-does-not-fit",OFFSET_CSS:"a-color-offset-background",IS_LAST_VEHICLE_ATTRIBUTE:"is-last-vehicle-attribute",IS_AJAX_CALL_REQUIRED:"is-ajax-call-required",POPOVER_WIDTH:"popover-width",GARAGE_URL:document.location.origin+"/adp-auto/garage?",
GARAGE_LAYOUT_FILTER_BUTTON_ID:"automotive-data-platform-desktop-pf-btn-garage-layout-filter",MAND_ATTR_FILTER_BUTTON_ID:"automotive-data-platform-desktop-pf-btn-mand-attr-filter",OPTIONAL_ATTR_FILTER_BUTTON_ID:"automotive-data-platform-desktop-pf-btn-optional-attr-filter",BUTTON_DATA_SECTION_PREFIX:"automotive-data-platform-desktop-pf-btn-data-section-",MAX_SUPPORTED_ATTR_VAL_LENGTH:"automotive-data-platform-vsp-mandatory-data-text-length",BUTTON_TEXT_PREFIX:"automotive-data-platform-desktop-pf-btn-text-",
BUTTON_ICON_PREFIX:"automotive-data-platform-desktop-pf-btn-trigger-icon-",GARAGE_LAYOUT_POPOVER_CONTENT_SECTION:"automotive-data-platform-desktop-pf-popover-content-section-garage-layout",GARAGE_POPOVER_CONTENT_SECTION:"automotive-data-platform-desktop-pf-popover-content-section-garage",OPTIONAL_ATTR_GARAGE_POPOVER_CONTENT_SECTION:"automotive-data-platform-desktop-pf-popover-content-section-optional-attr-garage",GARAGE_TRIGGER:"automotive-data-platform-desktop-pf-btn-trigger-garage",GARAGE_LAYOUT_TRIGGER:"automotive-data-platform-desktop-pf-btn-trigger-garage-layout",
OPTIONAL_ATTR_GARAGE_TRIGGER:"automotive-data-platform-desktop-pf-btn-trigger-optional-attr-garage",BUTTON_ID_PREFIX:"automotive-data-platform-desktop-pf-btn-",BUTTON_TRIGGER_ID_PREFIX:"automotive-data-platform-desktop-pf-btn-trigger-",POPOVER_CONTENT_SECTION_PREFIX:"automotive-data-platform-desktop-pf-popover-content-section-",MODAL_CONTENT_IMAGE_SECTION_PREFIX:"automotive-data-platform-desktop-pf-image-modal-url-section-",POPOVER_CONTENT_MAIN_SECTION_PREFIX:"automotive-data-platform-desktop-pf-popover-content-main-section-",
COLUMN_COUNT_SECTION:"automotive-data-platform-vsp-mandatory-data-max-column",OPTIONAL_METADATA_PREFIX:"automotive-data-platform-vsp-optional-data-",OPTIONAL_COLUMN_COUNT_SECTION_SUFFIX:"-max-column",MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION:"automotive-data-platform-vsp-mandatory-data-text-length",OPTIONAL_MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION_SUFFIX:"-text-length",POPOVER_WIDTH_MULTIPLIER:15,OPTIONAL_ATTR_GARAGE_BUTTON:"automotive-data-platform-desktop-pf-btn-optional-attr-garage",OPTIONAL_GARAGE_BUTTON_DATA_SECTION:"automotive-data-platform-desktop-pf-btn-data-section-optional-attr-garage",
MAIN_GRID_COL:"automotive-data-platform-desktop-pf-layout-main-grid-col",ALT_MSG_SECTION:"automotive-data-platform-desktop-pf-layout-alt-msg",DEFAULT_MSG_SECTION:"automotive-data-platform-desktop-pf-layout-default-msg",MAIN_STRIPE_SECTION:"automotive-data-platform-desktop-pf",GARAGE_LAYOUT_BUTTON_DATA_SECTION:"automotive-data-platform-desktop-pf-btn-data-section-garage-layout",MAND_ATTR_SECTION:"automotive-data-platform-desktop-pf-mand-attrs-layout",GARAGE_LAYOUT_SECTION:"automotive-data-platform-desktop-pf-garage-layout",
OPTIONAL_ATTR_SECTION:"automotive-data-platform-desktop-pf-optional-attr-layout",HELP_IMAGE_TRIGGER:"automotive-data-platform-desktop-pf-help-image-trigger",HELP_IMAGE_TRIGGER_HEADER_PREFIX:"automotive-data-platform-desktop-pf-help-image-trigger-header-section-",HELP_IMAGE_TRIGGER_CONTENT_PREFIX:"automotive-data-platform-desktop-pf-help-image-trigger-content-section-",POST:"post",PRE_SELECTED_MAND_ATTR:"automotive-data-platform-desktop-pf-pre-selected-mand-attr-data-section",HELP_IMAGE_ID_PREFIX:"automotive-data-platform-desktop-pf-help-image-id-"});
"use strict";q.when("A","ready").register("automotive-data-platform-desktop-pf-ajax-handler",function(a){return{performAjax:function(e){var f="get";void 0!==e.method&&(f=e.method);a.ajax(e.url,{indicator:a.$(e.spinner),method:f,params:e.params,success:function(a,f,b){e.success&&200===b.http.status?e.success(a):e.error&&e.error(a)},error:function(a){e.error&&e.error(a)},timeout:2E3})}}});"use strict";q.when("A","automotive-data-platform-desktop-pf-constants","ready").register("automotive-data-platform-desktop-pf-error-handler",
function(a,e){return{showErrorSection:function(){a.$(e.HASH_SIGN+e.ERROR_MSG_SECTION).removeClass(e.DISPLAY_NONE_CSS)},hideErrorSection:function(){a.$(e.HASH_SIGN+e.ERROR_MSG_SECTION).addClass(e.DISPLAY_NONE_CSS)}}});"use strict";q.when("A","a-popover","a-button","automotive-data-platform-desktop-pf-ajax-handler","automotive-data-platform-desktop-pf-garage-interactions","automotive-data-platform-desktop-pf-constants","automotive-data-platform-desktop-pf-help-image-interactions","automotive-data-platform-desktop-pf-error-handler",
"ready").register("automotive-data-platform-desktop-as-pf-button-action",function(a,e,f,p,m,b,n,l){a.declarative("automotive-data-platform-desktop-pf-btn-mand-attr-action","click",function(d){d=d.$target.closest(".a-button-input");var k=d.data(b.CURRENT_VEHICLE_ATTRIBUTE);if(k){var r=a.$(b.HASH_SIGN+b.BUTTON_TRIGGER_ID_PREFIX+k),h=e.get(r);f(b.HASH_SIGN+b.BUTTON_TRIGGER_ID_PREFIX+k).isEnabled()&&(h?h.show():(h=d.data(b.IS_AJAX_CALL_REQUIRED),n.loadImageURLInPopover(k),h?(d=d.data(b.PRE_ENCODED_ID),
p.performAjax({url:b.GARAGE_URL,params:{featureName:b.VSP_MANDATORY_DATA,vehicleEncodedIds:d},success:function(d){a.$(b.HASH_SIGN+b.POPOVER_CONTENT_MAIN_SECTION_PREFIX+k).html(d);d=a.$(b.HASH_SIGN+b.COLUMN_COUNT_SECTION).text();a.$(b.HASH_SIGN+b.COLUMN_COUNT_SECTION).remove();var h=a.$(b.HASH_SIGN+b.MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION).text();a.$(b.HASH_SIGN+b.MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION).remove();d=d*h*b.POPOVER_WIDTH_MULTIPLIER;d={inlineContent:a.$("#"+b.POPOVER_CONTENT_SECTION_PREFIX+
k).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover",width:d};(d=e.create(r,d))?(l.hideErrorSection(),d.show()):l.showErrorSection()},error:function(a){l.showErrorSection()}})):(d=d.data(b.POPOVER_WIDTH),d={inlineContent:a.$(b.HASH_SIGN+b.POPOVER_CONTENT_SECTION_PREFIX+k).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover",width:d},(d=e.create(r,d))?(l.hideErrorSection(),d.show()):l.showErrorSection())))}});a.declarative("automotive-data-platform-desktop-pf-btn-garage-action",
"click",function(d){d=a.$(b.HASH_SIGN+b.GARAGE_TRIGGER);var k=e.get(d);k?k.show():(k={inlineContent:a.$(b.HASH_SIGN+b.GARAGE_POPOVER_CONTENT_SECTION).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover"},(d=e.create(d,k))?(l.hideErrorSection(),d.show()):l.showErrorSection())});a.declarative("automotive-data-platform-desktop-pf-btn-garage-layout-action","click",function(d){d=a.$(b.HASH_SIGN+b.GARAGE_LAYOUT_TRIGGER);var k=e.get(d);k?k.show():(k={inlineContent:a.$(b.HASH_SIGN+b.GARAGE_LAYOUT_POPOVER_CONTENT_SECTION).show(),
position:"triggerBottom",closeButton:"false",activate:"onmouseover"},(d=e.create(d,k))?(l.hideErrorSection(),d.show()):l.showErrorSection())});a.declarative("automotive-data-platform-desktop-pf-btn-optional-attr-garage-action","click",function(d){d=a.$(b.HASH_SIGN+b.OPTIONAL_ATTR_GARAGE_TRIGGER);var k=e.get(d);k?k.show():(k={inlineContent:a.$(b.HASH_SIGN+b.OPTIONAL_ATTR_GARAGE_POPOVER_CONTENT_SECTION).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover"},(d=e.create(d,k))?(l.hideErrorSection(),
d.show()):l.showErrorSection())});a.declarative("automotive-data-platform-desktop-pf-btn-optional-attr-action","click",function(d){var k=d.$target.closest(".a-button-input").data("current-vehicle-attribute"),r=a.$(b.HASH_SIGN+b.BUTTON_TRIGGER_ID_PREFIX+k);d=e.get(r);f(b.HASH_SIGN+b.BUTTON_TRIGGER_ID_PREFIX+k).isEnabled()&&(d?d.show():(n.loadImageURLInPopover(k),d=m.getMandatoryAttrEnIdsGarageVehicle(),p.performAjax({url:b.GARAGE_URL,params:{featureName:b.VSP_OPTIONAL_DATA,optionalList:k,mandatoryEncodedIds:d},
success:function(d){a.$(b.HASH_SIGN+b.POPOVER_CONTENT_MAIN_SECTION_PREFIX+k).html(d);d=a.$(b.HASH_SIGN+b.OPTIONAL_METADATA_PREFIX+k+b.OPTIONAL_COLUMN_COUNT_SECTION_SUFFIX).text();a.$(b.HASH_SIGN+b.OPTIONAL_METADATA_PREFIX+k+b.OPTIONAL_COLUMN_COUNT_SECTION_SUFFIX).remove();var f=a.$(b.HASH_SIGN+b.OPTIONAL_METADATA_PREFIX+k+b.OPTIONAL_MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION_SUFFIX).text();a.$(b.HASH_SIGN+b.OPTIONAL_METADATA_PREFIX+k+b.OPTIONAL_MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION_SUFFIX).remove();d=
d*f*b.POPOVER_WIDTH_MULTIPLIER;d={inlineContent:a.$("#"+b.POPOVER_CONTENT_SECTION_PREFIX+k).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover",width:d};(d=e.create(r,d))?(l.hideErrorSection(),d.show()):l.showErrorSection()},error:function(a){l.showErrorSection()}})))})});"use strict";q.when("A","a-popover","a-button","automotive-data-platform-desktop-pf-ajax-handler","automotive-data-platform-desktop-pf-garage-interactions","automotive-data-platform-desktop-pf-page-state-interactions",
"automotive-data-platform-desktop-pf-constants","automotive-data-platform-desktop-pf-help-image-interactions","automotive-data-platform-desktop-pf-error-handler","ready").register("automotive-data-platform-desktop-pf-vehicle-attr-selection-action",function(a,e,f,p,m,b,n,l,d){function k(a,b){do{a.disable();a=h.$(c.HASH_SIGN+c.BUTTON_DATA_SECTION_PREFIX+b);h.$(c.HASH_SIGN+c.BUTTON_TEXT_PREFIX+b).text(a.data(c.UI_NAME));var d=h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+b);b=h.$(c.HASH_SIGN+c.BUTTON_ICON_PREFIX+
b);d.hide();b.removeClass(c.DISPLAY_NONE_CSS);d=a.data(c.IS_LAST_VEHICLE_ATTRIBUTE);b=a.data(c.NEXT_VEHICLE_ATTRIBUTE);a=v(c.HASH_SIGN+c.BUTTON_ID_PREFIX+b)}while(!d);v(c.HASH_SIGN+c.MAND_ATTR_FILTER_BUTTON_ID).disable()}function r(){var a=h.state(c.PAGE_STATE),b=0;if(a.hasOwnProperty("requiredOptionalAttr"))b=a.requiredOptionalAttr;else{var a=q.getOptionalAttrInDisplayOrder(),d;for(d=0;d<a.length;d++){var e=h.$(c.HASH_SIGN+c.BUTTON_TEXT_PREFIX+a[d].name).text();e&&0===e.localeCompare(a[d].uiName)&&
(b+=1)}0!==b&&++b;h.state(c.PAGE_STATE,{requiredOptionalAttr:b})}a=q.getSelectedOptionalAttrs();d=v(c.HASH_SIGN+c.OPTIONAL_ATTR_FILTER_BUTTON_ID);!d.isEnabled()&&Object.keys(a).length>=b&&d.enable()}var h=a,v=f,q=b,c=n;h.declarative("automotive-data-platform-desktop-part-finder-vehicle-mandatory-attribute-action","click",function(a){var b=a.$target.closest(".a-link-normal"),g={};a=b.data(c.CURRENT_ATTRIBUTE_NAME);b=b.data(c.VEHICLE_DATA);h.$(c.HASH_SIGN+c.BUTTON_TEXT_PREFIX+a).text(b.displayName);
g[a]=b.adpVehicleAttributeValue;h.state(c.PAGE_STATE,{selectedMandatoryVehicleAttrs:g});var g=h.$(c.HASH_SIGN+c.BUTTON_DATA_SECTION_PREFIX+a),f=g.data(c.IS_LAST_VEHICLE_ATTRIBUTE);e.get(h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+a)).hide();if(f)v(c.HASH_SIGN+c.MAND_ATTR_FILTER_BUTTON_ID).enable();else{var u=g.data(c.NEXT_VEHICLE_ATTRIBUTE),n=v(c.HASH_SIGN+c.BUTTON_ID_PREFIX+u);a=(a=g.data(c.PRE_ENCODED_ID))&&0!==a.length?a+c.UNDERSCORE_SIGN+b.adpVehicleAttributeValue.attributeEncodedId:b.adpVehicleAttributeValue.attributeEncodedId;
h.$(c.HASH_SIGN+c.BUTTON_DATA_SECTION_PREFIX+u).data(c.PRE_ENCODED_ID,a);n.isEnabled()&&k(n,u);p.performAjax({url:c.GARAGE_URL,params:{featureName:c.VSP_MANDATORY_DATA,vehicleEncodedIds:a},success:function(a){l.loadImageURLInPopover(u);h.$(c.HASH_SIGN+c.POPOVER_CONTENT_MAIN_SECTION_PREFIX+u).html(a);a=h.$(c.HASH_SIGN+c.COLUMN_COUNT_SECTION).text();h.$(c.HASH_SIGN+c.COLUMN_COUNT_SECTION).remove();var b=h.$(c.HASH_SIGN+c.MAX_SUPPORTED_ATTR_VAL_LENGTH).text();h.$(c.HASH_SIGN+c.MAX_SUPPORTED_ATTR_VAL_LENGTH).remove();
a=a*b*c.POPOVER_WIDTH_MULTIPLIER;var b=h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+u),k={inlineContent:h.$(c.HASH_SIGN+c.POPOVER_CONTENT_SECTION_PREFIX+u).show(),position:"triggerBottom",closeButton:"false",activate:"onmouseover",width:a};(a=e.get(h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+u)))&&e.remove(b);(a=e.create(b,k))?(b=h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+u),k=h.$(c.HASH_SIGN+c.BUTTON_ICON_PREFIX+u),b.show(),k.addClass(c.DISPLAY_NONE_CSS),n.enable(),d.hideErrorSection(),a.show()):d.showErrorSection()},
error:function(a){d.showErrorSection()}})}});h.declarative("automotive-data-platform-desktop-part-finder-vehicle-optional-attribute-action","click",function(a){var b=a.$target.closest(".a-link-normal"),k={};a=b.data(c.CURRENT_ATTRIBUTE_NAME);b=b.data(c.VEHICLE_DATA);h.$(c.HASH_SIGN+c.BUTTON_TEXT_PREFIX+a).text(b.displayName);k[a]=b.adpVehicleAttributeValue;h.state(c.PAGE_STATE,{selectedOptionalVehicleAttrs:k});k=h.$(c.HASH_SIGN+c.BUTTON_DATA_SECTION_PREFIX+a);e.get(h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+
a)).hide();a=k.data(c.IS_LAST_VEHICLE_ATTRIBUTE);var f=k.data(c.NEXT_VEHICLE_ATTRIBUTE),u=e.get(h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+f));a||(u?u.show():(a={featureName:c.VSP_OPTIONAL_DATA,optionalList:f,mandatoryEncodedIds:m.getMandatoryAttrEnIdsGarageVehicle()},p.performAjax({url:c.GARAGE_URL,params:a,success:function(a){l.loadImageURLInPopover(f);h.$(c.HASH_SIGN+c.POPOVER_CONTENT_MAIN_SECTION_PREFIX+f).html(a);a=h.$(c.HASH_SIGN+c.OPTIONAL_METADATA_PREFIX+f+c.OPTIONAL_COLUMN_COUNT_SECTION_SUFFIX).text();
h.$(c.HASH_SIGN+c.OPTIONAL_METADATA_PREFIX+f+c.OPTIONAL_COLUMN_COUNT_SECTION_SUFFIX).remove();var b=h.$(c.HASH_SIGN+c.OPTIONAL_METADATA_PREFIX+f+c.OPTIONAL_MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION_SUFFIX).text();h.$(c.HASH_SIGN+c.OPTIONAL_METADATA_PREFIX+f+c.OPTIONAL_MAX_SUPPORTED_ATTR_VAL_LENGTH_SECTION_SUFFIX).remove();b=a*b*c.POPOVER_WIDTH_MULTIPLIER;a=h.$(c.HASH_SIGN+c.BUTTON_TRIGGER_ID_PREFIX+f);b={inlineContent:h.$("#"+c.POPOVER_CONTENT_SECTION_PREFIX+f).show(),position:"triggerBottom",closeButton:"false",
activate:"onmouseover",width:b};(u=e.create(a,b))?(d.hideErrorSection(),u.show()):d.showErrorSection()},error:function(a){d.showErrorSection()}})));r()})});"use strict";q.when("A","a-button","a-popover","automotive-data-platform-desktop-pf-vehicle-id-creation","automotive-data-platform-desktop-pf-submit-form-and-redirect","automotive-data-platform-desktop-pf-page-state-interactions","automotive-data-platform-desktop-pf-garage-interactions","automotive-data-platform-desktop-pf-constants","automotive-data-platform-desktop-pf-error-handler",
"ready").register("automotive-data-platform-desktop-pf-filter-by-vehicle",function(a,e,f,p,m,b,n,l,d){function k(){y.hideErrorSection()}function r(){x(g.HASH_SIGN+g.MAND_ATTR_FILTER_BUTTON_ID).enable();y.showErrorSection()}function h(){x(g.HASH_SIGN+g.OPTIONAL_ATTR_FILTER_BUTTON_ID).enable();y.showErrorSection()}function v(){x(g.HASH_SIGN+g.GARAGE_LAYOUT_FILTER_BUTTON_ID).enable();y.showErrorSection()}function q(){var a=c.$(g.HASH_SIGN+g.GARAGE_TRIGGER);(a=t.get(a))&&a.hide();a=c.$(g.HASH_SIGN+g.OPTIONAL_ATTR_GARAGE_TRIGGER);
(a=t.get(a))&&a.hide();a=c.$(g.HASH_SIGN+g.GARAGE_LAYOUT_TRIGGER);(a=t.get(a))&&a.hide();y.showErrorSection()}var c=a,x=e,t=f,g=l,y=d;c.declarative("automotive-data-platform-desktop-pf-btn-mand-attr-filter-action","click",function(a){a=x(g.HASH_SIGN+g.MAND_ATTR_FILTER_BUTTON_ID);a.isEnabled()&&(a.disable(),a=b.getSelectedMandatoryAttrs(),n.saveGarageVehicle(a,{success:k,error:r}))});c.declarative("automotive-data-platform-desktop-pf-btn-optional-attr-filter-action","click",function(a){a=x(g.HASH_SIGN+
g.OPTIONAL_ATTR_FILTER_BUTTON_ID);if(a.isEnabled()){a.disable();a=b.getSelectedOptionalAttrs();var d=c.$(g.HASH_SIGN+g.OPTIONAL_GARAGE_BUTTON_DATA_SECTION).data(g.VEHICLE_DATA).vehicleInfo,e={};e.asin=d.vehicleAsin.attributeValue;for(var f=b.getA9VehicleAttrOrder(),l={},p=0;p<f.length;p++){var r=f[p];if(r in d){var v=d[r];c.$.isEmptyObject(v.metadata)&&(v.metadata=null);l[r]=v}}e.attributes=l;var f=e.attributes,d={success:k,error:h},l={},m;for(m in f)m in f&&(l[m]=f[m]);for(m in a)m in a&&(l[m]=a[m]);
n.updateGarageVehicle(e,l,d)}});c.declarative("automotive-data-platform-desktop-pf-btn-garage-layout-filter-action","click",function(a){a=x(g.HASH_SIGN+g.GARAGE_LAYOUT_FILTER_BUTTON_ID);a.isEnabled()&&(a.disable(),a=c.$(g.HASH_SIGN+g.GARAGE_LAYOUT_BUTTON_DATA_SECTION).data(g.VEHICLE_DATA),n.saveGarageVehicle(a.vehicleInfo,{success:k,error:v}))});c.declarative("automotive-data-platform-desktop-pf-garage-vehicle-action","click",function(a){a=a.$target.closest(".a-link-normal").data(g.VEHICLE_DATA);
n.saveGarageVehicle(a.vehicleInfo,{success:k,error:q})});c.declarative("automotive-data-platform-desktop-pf-garage-layout-enter-new-vehicle-action","click",function(a){t.get(c.$(g.HASH_SIGN+g.GARAGE_LAYOUT_TRIGGER)).hide();c.$(g.HASH_SIGN+g.MAND_ATTR_SECTION).removeClass(g.DISPLAY_NONE_CSS);c.$(g.HASH_SIGN+g.GARAGE_LAYOUT_SECTION).addClass(g.DISPLAY_NONE_CSS)});c.declarative("automotive-data-platform-desktop-pf-optional-garage-enter-new-vehicle-action","click",function(a){t.get(c.$(g.HASH_SIGN+g.OPTIONAL_ATTR_GARAGE_TRIGGER)).hide();
c.$(g.HASH_SIGN+g.ALT_MSG_SECTION).addClass(g.DISPLAY_NONE_CSS);c.$(g.HASH_SIGN+g.DEFAULT_MSG_SECTION).removeClass(g.DISPLAY_NONE_CSS);c.$(g.HASH_SIGN+g.MAND_ATTR_SECTION).removeClass(g.DISPLAY_NONE_CSS);c.$(g.HASH_SIGN+g.OPTIONAL_ATTR_SECTION).addClass(g.DISPLAY_NONE_CSS)})});"use strict";q.when("A","ready").register("automotive-data-platform-desktop-pf-submit-form-and-redirect",function(a){var e=a.$;return{addInputsAndSubmitForm:function(a){var p=e("#automotive-data-platform-desktop-pf-form"),m=
[];if(a)for(var b in a)a.hasOwnProperty(b)&&m.push(b);for(b=0;b<m.length;b++){var n=m[b];e('\x3cinput type\x3d"hidden" /\x3e').attr({name:n,value:a[n]}).appendTo(p)}e(p).submit()}}});"use strict";q.when("A","automotive-data-platform-desktop-pf-page-state-interactions","automotive-data-platform-desktop-pf-constants","ready").register("automotive-data-platform-desktop-pf-vehicle-id-creation",function(a,e,f){return{createVehicleId:function(a){for(var m=e.getA9VehicleAttrOrder(),b=[],n,l=0;l<m.length;l++){var d=
m[l];d in a?(n=a[d].attributeEncodedId,0===d.localeCompare("model_year")&&a[d].metadata&&a[d].metadata.model_year_range&&(n=n+"|"+a[d].metadata.model_year_range)):n="";b.push(n)}return b.join(f.UNDERSCORE_SIGN)}}});"use strict";q.when("A","automotive-data-platform-desktop-pf-vehicle-id-creation","automotive-data-platform-desktop-pf-page-state-interactions","automotive-data-platform-desktop-pf-ajax-handler","automotive-data-platform-desktop-pf-submit-form-and-redirect","automotive-data-platform-desktop-pf-constants",
"ready").register("automotive-data-platform-desktop-pf-garage-interactions",function(a,e,f,p,m,b){function n(b,d){var e=[],f;for(f=0;f<d.length;++f)d[f].name in b?(e[f]=b[d[f].name],a.$.isEmptyObject(e[f].metadata)&&(e[f].metadata=null)):e[f]=null;return e}function l(){var b=a.state(d.PAGE_STATE),e="";b.hasOwnProperty("searchAlias")&&(b=b.searchAlias,"automotive"===b?e="searchAutoDsk":"aps"===b&&(e="searchApsDsk"));return e}var d=b;a.declarative("automotive-data-platform-desktop-pf-manage-garage-action",
"click",function(a){t.location.assign(d.GARAGE_URL)});return{getMandatoryAttrEnIdsGarageVehicle:function(){for(var b=a.$(d.HASH_SIGN+d.OPTIONAL_GARAGE_BUTTON_DATA_SECTION).data(d.VEHICLE_DATA).vehicleInfo,e=f.getMandatoryAttrInDisplayOrder(),h=[],l,m=0;m<e.length;m++)l=e[m],l=l.name in b?b[l.name].attributeEncodedId:"",h.push(l);return h.join(d.UNDERSCORE_SIGN)},saveGarageVehicle:function(b,r){var h=e.createVehicleId(b),q=f.getAllVehicleAttrInDisplayOrder();b=n(b,q);var q=a.$(d.HASH_SIGN+d.CSRF_TOKEN).val(),
t=l();b={featureName:d.ADD_GARAGE_VEHICLE,client:t,token:q,attributeList:JSON.stringify(b)};p.performAjax({url:d.GARAGE_URL,method:d.POST,params:b,success:function(a){a={};a.vehicle=h;m.addInputsAndSubmitForm(a);r.success()},error:function(a){r.error()}})},updateGarageVehicle:function(b,q,h){var t=e.createVehicleId(q),w=f.getOptionalAttrInDisplayOrder();q=n(q,w);var w=a.$(d.HASH_SIGN+d.CSRF_TOKEN).val(),c=l();b={featureName:d.UPDATE_GARAGE_VEHICLE,client:c,token:w,vehicle:JSON.stringify(b),newOptionalAttributes:JSON.stringify(q)};
p.performAjax({url:d.GARAGE_URL,method:d.POST,params:b,success:function(a){a={};a.vehicle=t;m.addInputsAndSubmitForm(a);h.success()},error:function(a){h.error()}})}}})});